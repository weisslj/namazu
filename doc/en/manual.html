<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta name="ROBOTS" content="NOINDEX,NOFOLLOW">
<link rel=stylesheet href="../namazu.css">
<link rev=made href="mailto:developers@namazu.org">
<title>Manual of Namazu</title>
</head>
<body>
<h1>Manual of Namazu</h1>
<hr>

<p>
You can get the latest news about Namazu at <a
href="http://www.namazu.org/">http://www.namazu.org/</a>.

Namazu is a free software under the terms of <a
href="http://www.gnu.org/copyleft/gpl.html">GPL2</a> with
ABSOLUTELY NO WARRANTY.
</p>

<h2>Table of contents</h2>
<ul>
<li><a href="#components">Namazu components</a>
<li><a href="#mknmz">mknmz command</a>
  <ul>
  <li><a href="#mknmz-option">mknmz's options</a>
  <li><a href="#mknmzrc">mknmzrc settings</a>
  <li><a href="#doc-filter">Document filters</a>
  </ul>
<li><a href="#namazu">namazu command</a>
  <ul>
  <li><a href="#namazu-option">namazu's options</a>
  <li><a href="#namazurc">namazurc settings</a>
  <li><a href="#default-index">Default Index</a>
  </ul>
<li><a href="#cgi">namazu.cgi</a>
  <ul>
  <li><a href="#setting">namazu.cgi installation</a>
  <li><a href="#.namazurc">.namazurc settings</a>
  <li><a href="#template">Template files</a>
  <li><a href="#form">Form settings</a>
  <li><a href="#form-idxname">Selecting an index</a>
  <li><a href="#form-idxnames">Selecting multiple indices</a>
  <li><a href="#form-subquery">Using sub-query</a>
  </ul>
<li><a href="#tools">Included tools</a>
  <ul>
  <li><a href="#bnamazu">bnamazu</a>
  <li><a href="#nmzgrep">nmzgrep</a>
  <li><a href="#gcnmz">gcnmz</a>
  <li><a href="#mailutime">mailutime</a>
  <li><a href="#vfnmz">vfnmz</a>
  <li><a href="#rfnmz">rfnmz</a>
  </ul>
<li><a href="#query">Query</a>
  <ul>
  <li><a href="#query-term">Single term query</a>
  <li><a href="#query-and">AND query</a>
  <li><a href="#query-or">OR query</a>
  <li><a href="#query-not">NOT query</a>
  <li><a href="#query-grouping">Grouping</a>
  <li><a href="#query-phrase">Phrase searching</a>
  <li><a href="#query-substring">Substring matching</a>
  <li><a href="#query-regex">Regular expressions</a>
  <li><a href="#query-field">Field-specified searching</a>
  <li><a href="#query-notes">Notes</a>
  </ul>
</ul>

<h2><a name="components">Namazu components</a></h2>

<p>
Namazu is a full-text search system. Namazu consists of
<code>mknmz</code> which creates an index and
<code>namazu</code> which search the index.
</p>

<p>
For searching a great amount of documents quickly, Namazu
makes an index in advance. The concept of index is just
similar to an index of book.
</p>

<p>
To make the index, you can use <code>mknmz</code> command
and specify a target directory as an argument of mknmz. For
example, you can index documents in /home/foo/public_html by:
</p>

<p><code>% mknmz</code> /home/foo/public_html
</p>

<p>
Then, documents such as *.html and *.txt in
/home/foo/public_html are indexed and NMZ.* files are
created in the directory where you ran mknmz. The NMZ.*
files are the Namazu index.
</p>

<p>
To search the created index, you can use <code>namazu</code>
command. For example:
</p>

<p><code>% namazu</code> bar /home/foo/Namazu/bar</p>

<p>
In this case, you can search the index in 
/home/foo/Namazu/foobar for the keyword `bar'.
</p>


<h2><a name="mknmz">mknmz command</a></h2>

<h3><a name="mknmz-option">mknmz's options</a></h3>

<!-- mknmz-option -->
<pre>
    mknmz 1.9.15, an indexer of Namazu.
    
    Usage: mknmz [options] &lt;target&gt;...
    
    Target files:
      -a, --all                target all files.
      -e, --robots-txt         exclude files which is excluded by robots.txt.
      -t, --media-type=MTYPE   set the media type for all target files to MTYPE.
      -h, --mailnews           same as --media-type='message/rfc822'
          --mhonarc            same as --media-type='text/html; x-type=mhonarc'
      -A, --htaccess           exclude files restricted by .htaccess.
      -F, --target-list=FILE   load FILE which contains a list of target files.
          --allow=PATTERN      set PATTERN for file names which should be allowed.
          --deny=PATTERN       set PATTERN for file names which should be denied.
          --exclude=PATTERN    set PATTERN for pathnames which should be excluded.
      -M, --meta               handle HTML meta tags for field-specified search.
      -r, --replace=CODE       set CODE for replacing URI.
      -o, --ole                use OLE document filters. (works on Windows only)
          --mtime=NUM          limit by date, (minus NUM for recent, i.e.,
                               -50 for recent 50 days, 50 for older than 50.)
    
    Morphological Analysis:
      -c, --use-chasen         use ChaSen for analyzing Japanese.
      -k, --use-kakasi         use KAKASI for analyzing Japanese.
      -m, --use-chasen-noun    use ChaSen for extracting only nouns.
    
    Text Operations:
      -E, --no-edge-symbol     remove symbols on edge of word.
      -G, --no-okurigana       remove Okurigana in word.
      -H, --no-hiragana        ignore words consist of Hiragana only.
      -K, --no-symbol          remove symbols.
    
    Summarization:
      -U, --no-encode-uri      do not encode URI.
      -x, --no-heading-summary do not make summary with HTML's headings.
    
    Index Construction:
          --update=INDEX       set INDEX for updating.
      -Y, --no-delete          do not detect removed documents.
      -Z, --no-update          do not detect update and deleted documents.
    
    Miscellaneous:
      -s, --checkpoint         turn on the checkpoint mechanism.
      -f, --config=FILE        set the config file to FILE.
      -I, --include=FILE       include your customization FILE.
      -O, --output-dir=DIR     set DIR to output the index.
      -T, --template-dir=DIR   set DIR having NMZ.{head,foot,body}.*.
      -q, --quiet              suppress status messages during execution.
      -v, --version            show the version of namazu and exit.
      -V, --verbose            be verbose.
          --debug              be debug mode.
          --help               show this help and exit.
    
    Report bugs to &lt;bug-namazu@namazu.org&gt;.
</pre>
<!-- mknmz-option -->


<h3><a name="mknmzrc">mknmzrc settings</a></h3>
<p>
You can configurate mknmz by preparing mknmzrc or .mknmzrf
file. mknmz load them by the following rule.
</p>

<ol>
<li><code>$(sysconfdir)/$(PACKAGE)/mknmzrc</code><br>
Usually, /usr/local/etc/mknmz/mknmzrc
<li>~/.mknmzrc
<li>file which is specified by -f or --config=FILE option.
</ol>


<p>
At right after installed, sample rcfile is prepared in
<code>$(sysconfdir)/$(PACKAGE)/mknmzrc-sample</code>. You
can copy it to <code>$(sysconfdir)/$(PACKAGE)/mknmzrc</code>
or to ~/.mknmzrc in your home directory to activate it.
</p>

<p>
The settings of mknmzrc are documented in mknmzrc-sample as
comments.
</p>


<h3><a name="doc-filter">Document filters</a></h3>

<p>
mknmz detects a media type of document and handle the
document with proper filtering processing. For example, to
handle an HTML document, mknmz extracts the &lt;title&gt;
content, removes all HTML elements, and do other proper
processings. These processings are done by document filters
in <code>$(datadir)/$(PACKAGE)/filter</code>. The following
are standard ones which included in Namazu package.
</p>

<dl>
<dt>gzip.pl
<dd>Handle a gzipped file
<dd>Requirement: <a href="http://www.gzip.org/">gzip</a>
command or Compress::Zlib perl module.

<dt>bzip2.pl
<dd>Handle a bzip2-ed file
<dd>Requirement: <a
href="http://sourceware.cygnus.com/bzip2/">bzip2</a> コマン
ド

<dt>compress.pl
<dd>Handle a compress-ed file.
<dd>Requirement: compress command.

<dt>hnf.pl
<dd>Handle a file of <a href="http://www.h14m.org/">Hyper NIKKI System
Project</a>.
<dd>Requirement: hnf filter is special. It requires namazu_for_hns
of <a href="http://www.h14m.org/">Hyper NIKKI System Project</a>.

<dt>html.pl
<dd>Handle HTML file.
<dd>Requirement: None

<dt>ichitaro456.pl
<dd>Handle a file of Ichitaro a Japanese word processor.
<dd>Requirement: <a
href="http://www.vector.co.jp/soft/dl/dos/writing/s0013972.html">JSTXT</a>
<dd>Note: JSTXT is a tool for Windows.

<dt>mailnews.pl
<dd>Handle a file of Mail/News.
<dd>Requirement: None

<dt>man.pl
<dd>Handle a man file.
<dd>Requirement: nroff, groff, jgroff
<dd>Note: To handle Japanese man, jgroff supporting -T
nippon is required.

<dt>mhonarc.pl
<dd>Handle a <a href="http://www.mhonarc.org/">MHonArc</a> file.
<dd>Requirement: None

<dt>msword.pl
<dd>Handle a Word file.
<dd>Requirement: <a href="http://www.wvWare.com/">wvWare</a>, 
<a href="http://www.ff.iij4u.or.jp/~nrt/lv/">lv</a>

<dt>pdf.pl
<dd>Handle a PDF file.
<dd>Requirement: pdftotext a part of <a href="http://www.foolabs.com/xpdf/">xpdf</a>.

<dt>rfc.pl
<dd>Handle a RFC file.
<dd>Requirement: None

<dt>tex.pl
<dd>Handle a TeX file.
<dd>Requirement: <a
href="http://www.cs.purdue.edu/homes/trinkle/detex/">detex</a>
</dl>

<p>
Filters whose prefix is `ole' are for Windows. You can
enable them by running mknmz with --ole option.
</p>

<dl>
<dt>oleexcel.pl
<dd>Handle an Excel file.
<dd>Requirement: Excel

<dt>olemsword.pl
<dd>Handle a Word file.
<dd>Requirement: Word

<dt>olepowerpoint.pl
<dd>Handle a Power Point file.
<dd>Requirement: Power Point
</dl>


<h2><a name="namazu">namazu command</a></h2>

<h3><a name="namazu-option">namazu's options</a></h3>

<!-- namazu-option -->
<pre>
    namazu 1.9.15, a search program of Namazu.
    
    Usage: namazu [options] &lt;query&gt; [index]... 
        -n, --max=NUM        set number of documents shown to NUM.
        -w, --whence=NUM     set first number of documents shown to NUM.
        -l, --list           print results by listing format.
        -s, --short          print results by short format.
            --results=EXT    set NMZ.result.EXT for printing results.
            --late           sort documents in late order.
            --early          sort documents in early order.
            --sort=METHOD    set a sort METHOD (score, date, field:name)
            --ascending      sort in ascending order (default: descending)
        -a, --all            print all results.
        -c, --count          print only number of hits.
        -h, --html           print in HTML format.
        -r, --no-references  do not display reference hit counts.
        -H, --page           print further result links. (nearly meaningless)
        -F, --form           force to print &lt;form&gt; ... &lt;/form&gt; region.
        -R, --no-replace     do not replace URI string.
        -U, --no-decode-uri  do not decode URI when printing in a plain format.
        -o, --output=FILE    set the output file name to FILE.
        -f, --config=FILE    set the config file name to FILE.
        -C, --show-config    print current configuration.
        -q, --quiet          do not display extra messages except search results.
        -v, --version        show the version of namazu and exit.
            --help           show this help and exit
    
    Report bugs to &lt;bug-namazu@namazu.org&gt;.
</pre>
<!-- namazu-option -->

<p>
To specify one or more indecies, you can specify them as
<code>[index dir]...</code>. namazu uses <a
href="#default-index">Default Index</a> as the targets.
</p>

<p>
Also, you can specify the index by a relative path from
the default index with `+' sign. e.g., +foo, +bar.
</p>

<p>
By default, namazu prints search results in a simple
format. To print in HTML, you can specify -h option.
</p>

<p>
To print search results from 21 to 40, you can specify -n 20
-w 20. Note: value of -w is not 21.
</p>

<h3><a name="namazurc">namazurc settings</a></h3>
<p>
You can configurate mknmz by preparing mknmzrc or .mknmzrf
file. mknmz load them by the following rule.
</p>

<ol>
<li><code>$(sysconfdir)/$(PACKAGE)/namazurc</code><br>
Usually, /usr/local/etc/mknmz/namazurc
<li>~/.namazurc
<li>file which is specified by -f or --config=FILE option.
</ol>

<p>
At right after installed, sample rcfile is prepared in
<code>$(sysconfdir)/$(PACKAGE)/namazurc-sample</code>. You
can copy it to <code>$(sysconfdir)/$(PACKAGE)/namazurc</code>
or to ~/.namazurc in your home directory to activate it.
</p>

<p>
The settings of namazurc are documented in namazurc-sample as
comments.
</p>

<h3><a name="default-index">Default Index</a></h3>

<p>
The default index is the index which is used by default.
The defualt index follow the folloing rules.
</p>

<ul>
<li>Basic is $(localstatedir)/$(PACKAGE)/index<br>
Usually, /usr/local/var/namazu/index)
<li>Directory which is specified by Index directive of <a
href="#namazurc">namazurc</a>. 
</ul>

<p>
In CGI (<a href="#cgi">namazu.cgi</a>), target indices must
be specified by a relative path from the default index. See
<a href="#form-idxname">selecting an index</a> for details.
</p>

<h2><a name="cgi">namazu.cgi</a></h2>

<h3><a name="setting">namazu.cgi installation</a></h3>

<p>
CGIとして Namazuを利用するには、 namazu.cgi を用います。
namazu.cgi は <code>$(libexecdir)</code> ディレクトリ (通常
は/usr/local/libexec) にインストールされます。CGI を設置した
いディレクトリに namazu.cgiをコピーすれば設置完了です。
</p>

<h3><a name=".namazurc">.namazurc settings</a></h3>

<p>
namazu.cgi を設置したディレクトリに .namazurc ファイルを置く
と、CGIの実行時に設定ファイルとして読み込まれます。日本語で
表示するには次の設定が必須です。
</p>

<p><code>Lang ja</code></p>

<h3><a name="template">Template files</a></h3>

<p>
雛形ファイルは HTMLでの結果出力の書式を定義するファイル群で
す。それぞれの役割は次の通りです。
</p>

<dl>
<dt><a href="nmz.html#head">NMZ.head</a>
<dd>検索結果の冒頭部分
<dt><a href="nmz.html#foot">NMZ.foot</a>
<dd>検索結果の末尾部分
<dt><a href="nmz.html#body">NMZ.body</a>
<dd>検索式の説明
<dt><a href="nmz.html#tips">NMZ.tips</a>
<dd>検索のコツ
<dt><a href="nmz.html#result">NMZ.result</a>
<dd>検索結果の表示書式
</dl>

<p>
これらのファイルは言語ごとに分かれています。ファイル名の末尾
が .ja で終わるものが日本語用です。
</p>

<h3><a name="form">Form settings</a></h3>

<p>
formは NMZ.head に定義されています。CGI変数は次の通りです。
</p>

<dl>
<dt>query
<dd>検索式の指定です。
<dt>max
<dd>一度に表示する検索結果の件数を指定します。
<dt>result
<dd>検索結果の表示形式を指定します。
<dt>sort
<dd>ソートの方法を指定します。
<dt>idxname
<dd>検索するインデックス名を指定します。
<dt>subquery
<dd>補助の検索式を指定します。
<dt>whence
<dd>検索結果を何件目から表示するかを指定します。
</dl>

<h3><a name="form-idxname">Selecting an index</a></h3>

<p>
ブラウザからインデックスを選択可能にするには NMZ.head に次の
ように記述します。
</p>

<pre>

      &lt;strong&gt;検索対象:&lt;/strong&gt;
      &lt;select name="idxname"&gt;
      &lt;option selected value="foo"&gt;foo
      &lt;option value="bar"&gt;bar
      &lt;option value="baz"&gt;baz
      &lt;/select&gt;
</pre>

<p>
この例では、 foo, bar, baz の中からインデックスを
選択可能にしています。foo が選ばれた時は<a
href="#default-index">基本インデックス</a> の下にある 
foo インデックスを検索します。基本インデックスが 
/usr/local/var/namazu/index の場合は次のディレクトリ構成にな
ります。
</p>

<pre>

       /
       + usr/
         + local/
           + var/
             + namazu/
               + index/
                 + foo/
                 + bar/
                 + baz/
</pre>


<h3><a name="form-idxnames">Selecting multiple indices</a></h3>
<p>
複数のインデックスを検索するは NMZ.head に checkbox の記述を
します。
</p>

<pre>

      &lt;strong&gt;対象インデックス&lt;/strong&gt;
      &lt;ul&gt;
      &lt;li&gt;&lt;input type="checkbox" name="idxname" value="foo"&gt;foo
      &lt;li&gt;&lt;input type="checkbox" name="idxname" value="bar"&gt;bar
      &lt;li&gt;&lt;input type="checkbox" name="idxname" value="baz"&gt;baz
      &lt;/ul&gt;
</pre>

<p>
この例では foo, bar, baz から複数選択して検索できます。検索
結果に使われる<a href="#template">雛形ファイル</a>は 
namazurc の Template指示で指定したディレクトリのものが用いら
れます。Template が指定されていないときは、次の規則に従いま
す。
</p>

<ul>
<li>選択されたインデックスが 1つのとき<br>
選択されたインデックスの雛形ファイルが用いられる
<li>選択されたインデックスが複数のとき<br>
<a href="#default-index">基本インデックス</a>の雛形ファイルが用いられる
</ul>

<h3><a name="form-subquery">Using sub-query</a></h3>

<p>
利用者が入力する検索式とは別に、補助検索式を設定できます。た
とえば次の例では、検索対象のペイジを選択可能にしています。検
索対象の URIを +uri: で制限しているところが要です。
</p>

<pre>

      &lt;strong&gt;検索対象&lt;/strong&gt;
      &lt;select name="subquery"&gt;
      &lt;option value=""&gt;全体
      &lt;option value="+uri:/^http://foo.bar.jp/foo//"&gt;fooのペイジ
      &lt;option value="+uri:/^http://foo.bar.jp/bar//"&gt;barのペイジ
      &lt;option value="+uri:/^http://foo.bar.jp/baz//"&gt;bazのペイジ
      &lt;option value="+uri:/^http://foo.bar.jp/quux//"&gt;quuxのペイジ
      &lt;/select&gt;
      &lt;input type="hidden" name="reference" value="off"&gt;
</pre>


<h2><a name="tools">Included tools</a></h2>

<h3><a name="bnamazu">bnamazu</a></h3>

<p>
bnamazu は Webブラウザと連携して検索を行うツールです。検索結
果を Webブラウザ (標準では lynx) に渡して閲覧できます。コマ
ンド行から次のように実行します。
</p>

<p>
<code>% bnamazu [-n] [-b browser] [namazu's options] &lt;query&gt; [index]...</code>
</p>

<p>
-b オプションで Webブラウザを指定できます。 -n はWebブラウザ
が netscape のときのみ有効なオプションです。-n を指定すると、
新しい netscape の新しいウィンドウを開いて検索結果を表示しま
す。
</p>


<h3><a name="nmzgrep">nmzgrep</a></h3>

<p>
nmzgrep は namazu コマンドと連携して egrep を実行するツール
です。検索にヒットした文書に対して、egrepをかけます。egrep 
を適用することで、そのキーワードがどの行に出現するかがわかり
ます。コマンド行から次のように実行します。
</p>

<p>
<code>% nmzgrep [egrep's options] &lt;pattern&gt; [index]...</code>
</p>


<p>
たとえば、 ~/Namazu/foobar に置かれているインデックスに対して
foo で検索し、ヒットした文書に対してさらに egrep をかけるに
は、次のように実行します。
</p>

<p>
<code>% nmzgrep foo ~/Namazu/foobar</code>
</p>

<h3><a name="gcnmz">gcnmz</a></h3>

<p>
文書の更新・削除を伴うインデックスの更新を繰り返していくと、
インデックス内に不要なデータが溜まっていきます。gcnmz はこの
不要なデータを削除するツールです。コマンド行から次のように実
行します。
</p>

<p>
<code>% gcnmz [options] &lt;target&gt;...</code>
</p>

<p>
たとえば、 ~/Namazu/foobar に置かれているインデックスをゴミ掃除
するなら、次のように実行します。
</p>

<p>
<code>% gcnmz ~/Namazu/foobar</code>
</p>

<h3><a name="mailutime">mailutime</a></h3>

<p>
mailutime は Mail/News のファイルのタイムスタンプを Date: ヘッ
ダに合わせるツールです。コマンド行から次のように実行します。
</p>

<p>
<code>% mailutime &lt;target&gt;...</code>
</p>

<p>
たとえば、 ~/Mail/ml/foobar に置かれているメイルのタイムスタ
ンプを変更するなら、次のように実行します。
</p>

<p>
<code>% mailutime ~/Mail/ml/foobar/*</code>
</p>


<h3><a name="vfnmz">vfnmz</a></h3>

<p>
vfnmz は検索結果の表示を preview するツールです。コマンド行
から次のように実行します。
</p>

<p>
<code>% vfnmz &lt;index&gt; [NMZ.result.foobar]</code>
</p>

<p>
たとえば、 ~/Namazu/foobar に置かれているインデックスを preview 
するなら、次のように実行します。
</p>

<p>
<code>% vfnmz ~/Namazu/foobar &gt; foobar.html</code><br>
<code>% lynx foobar.html # 出力をブラウザで閲覧する</code>
</p>

<h3><a name="rfnmz">rfnmz</a></h3>

<p>
rfnmz は NMZ.field.*.i を再構築するツールです。コマンド行か
ら次のように実行します。
</p>

<p>
<code>% rfnmz &lt;index&gt;</code>
</p>

<p>
たとえば、 ~/Namazu/foobar に置かれている NMZ.field.*.i を再
構築するなら、次のように実行します。
</p>

<p>
<code>% rfnmz ~/Namazu/foobar &gt; foobar.html</code><br>
</p>

<!-- query -->
<h2><a name="query">Query</a></h2>

<h3><a name="query-term">Single term query</a></h3>
<p>
The query specifies only one term for retrieving all
documents which contain the term. e.g., 
</p>

<p class="example">
namazu
</p>

<h3><a name="query-and">AND query</a></h3> 

<p>
The query specifies two or more terms for retrieving all
documents which contain both terms. You can insert the
<code class="operator">and</code> operator between the terms to do AND
query. e.g., 
</p>

<p class="example">
Linux and Netscape
</p>

<p>
You can ommit the <code class="operator">and</code> operator.  Terms which is
separated by one ore more spaces is assumed to be AND query.
</p>

<h3><a name="query-or">OR query</a></h3>
<p>
The query specifies two or more terms for retrieving all
documents which contain either term. You can insert the
<code class="operator">or</code> operator between the terms to do OR query.
e.g.,
</p>

<p class="example">
Linux or FreeBSD
</p>

<h3><a name="query-not">NOT query</a></h3>
<p>
The query specifies two or more terms for retrieving all
documents which contain a first term but does't contain the
following terms. You can insert the <code class="operator">not</code>
operator between the terms to do NOT query.  e.g.,
</p>

<p class="example">
Linux not UNIX
</p>


<h3><a name="query-grouping">Grouping</a></h3>
<p>
You can group queries by surrounding them by
parentheses. the parentheses should be separated by one ore
more spaces. e.g., 
</p>

<p class="example">
( Linux or FreeBSD ) and Netscape not Windows
</p>

<h3><a name="query-phrase">Phrase searching</a></h3>
<p>
You can search a phrase which consists of two or more terms
by surrounding them with double quotes like
<code class="operator">"..."</code> or with braces like <code class="operator">{...}</code>.
You must choose the latter with Tkanamzu or namazu.el.
In Namazu, precision of phrase searching is not 100 %,
so it cause wrong results occasionally. e.g.,
</p>

<p class="example">
{GNU Emacs}
</p>

<!-- foo
<p>
You must choose the latter with Tkanamzu or namazu.el.
</p>
-->

<h3><a name="query-substring">Substring matching</a></h3>
<p>
The are three types of substring matching searching.
</p>

<dl> 
<dt>Prefix matching
<dd><code class="example">inter*</code> (terms which begin with <code>inter</code>)
<dt>Inside matching
<dd><code class="example">*text*</code> (terms which contain <code>text</code>) 
<dt>Suffix matching
<dd><code class="example">*net</code> (terms which terminated
with <code>net</code>)
</dl>


<h3><a name="query-regex">Regular expressions</a></h3>

<p>
You can use regular expressions for pattern matching. The
regular expressions must be surrounded by slashes like
<code class="operator">/.../</code>. Namazu uses codes of <a
href="http://www.netlab.co.jp/ruby/">Ruby</a> for the
regular expressions engine. It offers generally <a
href="http://www.perl.com/">Perl</a> compatible flavor.
e.g.,
</p>

<p class="example">
/pro(gram|blem)s?/
</p>


<h3><a name="query-field">Field-specified searching</a></h3>
<p>
You can limit your search to specific fields such as
<code>Subject:</code>, <code>From:</code>,
<code>Message-Id:</code>. It's especially convenient for
Mail/News documents. e.g.,
</p>

<ul>
<li><code class="example">+subject:Linux</code><br>
(Retrieving all documents which contain <code>Linux</code>
in a <code>Subject:</code> field)

<li><code class="example">+subject:"GNU Emacs"</code><br>
(Retrieving all documents which contain <code>GNU Emacs</code>
in a <code>Subject:</code> field)

<li><code class="example">+from:foo@bar.jp</code><br>
(Retrieving all documents which contain <code>foo@bar.jp</code>
in a <code>From:</code> field)


<li><code class="example">+message-id:&lt;199801240555.OAA18737@foo.bar.jp&gt;</code><br>
(Retrieving a certain document which contains specified
<code>Message-Id:</code>)
</ul>

<h3><a name="query-notes">Notes</a></h3>

<ul>
<li>In any queries, Namazu ignores case distinctions of
alphabet characters. In other words, Namazu does
case-insensitive pattern matching in any time.


<li>Japanese phrases are forced to be segmented into
morphemes automatically and are handled them as <a
href="#phrase">phrase searching</a>. This processing
causes invalid segmentation occasionally.


<li>Alphabet, numbers or a part of symbols (duplicated in
ASCII) characters which defined in JIS X 0208 (Japanese
Industrial Standards) are handled as ASCII characters.

<li>Namazu can handle a term which contains symbols like
<code>TCP/IP</code>.  Since this handling isn't complete,
you can describe <code>TCP and IP</code> instead of
<code>TCP/IP</code>, but it may cause noisy results.


<li>Substring matching and field-specified searching takes
more time than other methods.

<li>If you want to use <code class="operator">and</code>,
<code class="operator">or</code> or <code
class="operator">not</code> simply as terms, you can
surround them respectively with double quotes like <code
class="operator">"..."</code> or braces like <code
class="operator">{...}</code>. 

<!-- foo
You must choose the latter with Tkanamzu or namazu.el.
-->

</ul>

<!-- query -->

<hr>
<p>
<a href="http://www.namazu.org/">Namazu Homepage</a>
</p>
<div class="copyright">
Copyright (C) 2000 Namazu Project. All rights reserved.
</div>
<div class="id">
$Id: manual.html,v 1.8 2000-02-20 03:05:21 satoru Exp $
</div>
<address>
developers@namazu.org
</address>
</body>
</html>
