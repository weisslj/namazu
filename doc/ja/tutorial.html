<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html> 
<head>
<meta name="ROBOTS" content="NOINDEX,NOFOLLOW">
<link rel=stylesheet href="../namazu.css">
<link rev=made href="mailto:developers@namazu.org">
<title>Namazu 2.0 tutorial</title>
</head>
<body>
<h1>Namazu 2.0入門</h1>
<hr>

<p>
Namazu 2.0 を初めて使う方のための入門書です。この文書は、2.0 
が公開されたことを前提として書かれています。
</p>

<h2>目次</h2>
<ul>
<li><a href="#mission">本書の目的</a>
<li><a href="#versions">四つの版</a>
<li><a href="#components">Namazu の構成部品</a>
<li><a href="#prep-make">準備と make</a>
<li><a href="#japanese">日本語環境での利用</a>
<li><a href="#before-make-install">make install 前の確認</a>
<li><a href="#help">help の表示</a>
<li><a href="#run-mknmz">動作確認 mknmz</a>
<li><a href="#customize-mknmz">mknmz の調整</a>
<li><a href="#run-namazu">動作確認 namazu</a>
<li><a href="#can-do">Namazu でできること</a>
<li><a href="#can-not-do">できないこと</a>
<li><a href="#others">その他</a>
<li><a href="#terminology">用語</a>
<li><a href="#reference">参照</a>
</ul>

<h2><a name="mission">本書の目的</a></h2>

<ul>
<li>Namazu 2.0 を初めて設置する方
<li>Namazu を初めて使う方、Namazu 2.0 を初めて使う方
</ul>

<p>
を対象に、Namazu を使い始める時の困難を少しでも減らせるよう
にという目的で書かれています。Namazu の全ての機能については、
<a href="manual.html">説明書</a> がありますので、そちらを参
照して下さい。また設置については INSTALL-ja ファイルに説明が
あります。
</p>

<h2><a name="versions">四つの版</a></h2>

<p>
Namazu の版には(大きく分けて) 1.3 以前, 1.4, 1.9, 2.0 の 4つ
があります。
</p>

<dl>
<dt> 1.3
<dd> 
一番多く使われている。<br>
1.3.0.10 以前のものは
外部からゴミのファイルを作られる可能性があるので、
1.3.0.11 に更新した方がいい。
<br>
1.3.0.11 が最新
<dt>1.4 
  <dd>Perl モジュールを使った高速化が入った。<br>
  ベータ版 (1.4.0.0-beta-8) で開発が中断した
<dt>1.9
<dd>2.0 への開発中のものを時折まとめて公開したもの。<br>
1.9.12 以前のものには外部からファイル操作をされる可能性があります。
<dt>2.0
  <dd>今回公開されたもの
<dt>2.0-current
  <dd>次の版に向けて開発の続いているもの
<a href="http://www.namazu.org/development.html">
current</a> は CVS で取得できます。
</dl>

<h2><a name="components">Namazu の構成部品</a></h2> 

<p>
Namazu は大きく分けて mknmz と namazu の二つから構成されています。 
</p>
<ul>
<li>mknmz<br> 
検索索引(index) を予め作る。 (perl で書かれている)

<li>namazu <br> 
実際に文字列を入力して検索する<br> 
コマンド行から利用する。 (C言語で書かれている)

<li>namazu.cgi<br>
CGIとして利用する。(C言語で書かれている)
</ul> 

<h2><a name="prep-make">準備と make</a></h2>
<p>
2.0 の版を作るために次のソフトウェアが必要になります。(お名
前の敬称は略させていただきます。ごめんなさい)
</p>

<table cellspacing=0 cellpadding=3 border=1>
<tr>
<th>名称</th><th>説明</th>
<th>必須</th>
<th>最新版</th><th>必要な版</th>
<th>ファイル名</th>
<th>作成・配布</th>
<th>入手先(例)</th>
<th>その他</th>
</tr>
<tr><td>Perl</td><td>Perl 言語処理系
<td>○</td><td>5.005_03</td><td>5.004</td>
<td>perl-5.005_03.tar.gz</td>
<td>Larry Wall
GNU CPAN</td>
<td> 
<a href="ftp://ftp.lab.kdd.co.jp/lang/perl/CPAN/authors/id/GBARR/">
CPAN</a></td>
 <td><br></td>
</tr>

<tr><td>nkf</td><td>Network Kanji Filter 漢字コード 
変換系</td>
  <td>○</td><td>1.9</td><td>1.71</td>
  <td rowspan=2>
  <a href="ftp://ftp.ie.u-ryukyu.ac.jp/pub/software/kono/nkf171.shar">nkf171.shar</a></td>
  <td rowspan=2>河野眞治</td>
  <td rowspan=2>
  <a href="ftp://ftp.ie.u-ryukyu.ac.jp/pub/software/kono/">琉球大学</a></td>
  <td><br></td>
  </tr>

<tr><td>NKF</td><td>nkf Perl モジュール化</td>
  <td>▲</td><td>1.9</td><td>1.71</td>
  <td><br></td>
  </tr>

<tr>
 <td><a href="http://kakasi.namazu.org/index.html">KAKASI</a></td>
 <td>日本語・ ローマ字 変換系<td>△</td><td>2.3.1</td><td>&lt;=</td>
 <td><a href="ftp://kakasi.namazu.org/pub/kakasi/kakasi-2.3.1.tar.gz">
 kakasi-2.3.1.tar.gz</a></td>
 <td rowspan=2>
<a href="http://kakasi.namazu.org/">KAKASI Project</a></td>
 <td rowspan=2>
 <a href="ftp://kakasi.namazu.org/pub/kakasi/">namazu.org</a>
  <td><br></td>
 </tr>

<tr>
  <td><a href="http://www.daionet.gr.jp/~knok/kakasi/">Text::Kakasi</a></td>
  <td>KAKASI Perl モジュール化<td>▲</td>
  <td>1.01</td><td>&lt;=</td>
  <td>
  <a href="http://www.daionet.gr.jp/~knok/kakasi/Text-Kakasi-1.01.tar.gz">Text-Kakasi-1.01.tar.gz</a>
  </td>
  <td><br></td>
  </tr>

<tr>
  <td>Chasen</td>
  <td>(茶筌) -- 日本語 形態素 解析器</td>
  <td>△</td>
  <td>2.02</td><td>&lt;=</td><td>
  <a href="ftp://ftp.aist-nara.ac.jp/pub/lab/nlp/tools/chasen/chasen-sys2.02-ipadic2.1.tar.gz">chasen-sys2.02 -ipadic2.1.tar.gz</a>
  </td><td>
  <a href="http://cactus.aist-nara.ac.jp/lab/nlt/chasen.html">奈良先端大学</a> |
  <a href="ftp://ftp.aist-nara.ac.jp/pub/lab/nlp/tools/chasen/">ftp://</a>
  </td><td>
  <a href="http://cactus.aist-nara.ac.jp/lab/nlt/chasen/distribution.html">配布方針</a></td>
  <td>
  2.02 以前では libchasen.a について下記参照
  </tr>

<tr>
  <td>Text::ChaSen</td>
  <td>ChaSen Perl モジュール化</td>
  <td>▲</td>
  <td>0.20</td><td>&lt;=</td><td>
  <a href="http://www.daionet.gr.jp/~knok/chasen/Text-ChaSen-0.20.tar.gz">
  Text-ChaSen-0.20.tar.gz</a></td>
  <td align=CENTER>
  <a href="http://www.daionet.gr.jp/~knok/chasen/">
  野首貴嗣</a></td>
  <td><a href="http://www.daionet.gr.jp/~knok/chasen/">Text::ChaSen</a></td>
  <td><br></td>
</tr>


<tr><td>
<a href="http://search.cpan.org/search?mode=module&amp;query=MMagic">File-MMagic</a>
</td><td>File 種別</td>
<td>×</td><td>0.19</td><td>&lt;=</td>
<td>File-MMagic-0.19
<td>
  <a href="http://www.daionet.gr.jp/~knok/">
  野首貴嗣</a></td>
<td align=CENTER>
<a href="http://search.cpan.org/search?dist=File-MMagic">CPAN dist</a>
</td><td>
通常同梱されているので別途設置は不要
</td>
</tr>

<tr><td colspan=9>当然、次のものも必要です。</tr>
<tr><td>Namazu</td><td>Namazu本体</td>
<td>○</td><td>1.9.14</td><td>&lt;=</td>
<td><a href="http://www.namazu.org/unstable/namazu-1.9.14.tar.gz">
namazu-1.9.14.tar.gz</a></td>
<td>
<a href="http://www.namazu.org/">Namazu Project</a>
<td>
<a href="http://www.namazu.org/unstable/">namazu/unstable/</a></td>
<td><br></td>
</tr>
</table>

<ul>
<li>
△ は (日本語の処理をするなら)
KAKASI/ChaSen のどちらかが必要という意味。
<table cellspacing=0 cellpadding=3 border=1>
<tr><td>両方用意しておいた場合</td><td>
(無指定ではわかち書きに KAKASI を使うが、茶筌も
-c とするだけでコマンド行で指定できるようになります。)
<tr><td>片方しか用意していない場合</td><td>
./configure の時点でどちらを使うかが選ばれ、決められます。
</table>

<li>
▲ は Perl モジュール化で、1.9/2.0 の機能を生かすには必要で
す。しかし、なくても動くことは動きます。
その場合には一つのファイル毎にわかち書きの外部 process を起動するので、
遅くなります。その場合でも、
mknmz による索引の作成が遅いだけで、namazu の検索の
速度には関係ありません。でも、入れるのは 
<code>perl Makefile.PL; make; make install</code>
とするだけだから、問題がないなら入れておいた方がいいと思います。
<li>
namazu 2.0 以降では ChaSen2 にだけ対応しています。


<li>「かかし」か「茶筌」か ---- とても大雑巴に言うと<br>
かかしの方が簡単 (安定)で速い。<br>
茶筌の方が、少し遅いかもしれないが品質がいい。<br>
<li>ChaSen 2.02 以前では make install しても
/usr/local/lib/libchasen.a を入れてくれないので、perl のChaSenモジュー
ルを作るには手動で
<pre>
cp libchasen.a /usr/local/lib
ranlib /usr/local/lib/libchasen.a # ここはシステムに応じて
</pre>
とする必要があります。

<li>×となっている File-MMagic は通常同梱されています。
<li> namazu 自体の ./configure についてはINSTALL-ja
を見て下さい。
</ul>

<h2><a name="japanese">日本語環境での利用</a></h2>

<p>
Namazu を日本語環境で利用するには<code>環境変数LANG</code>の
設定が必要です。Windows では ja_JP.SJIS と設定します。UNIX 
では <code>ja</code>, <code>ja_JP.eucJP</code>,
<code>ja_JP.EUC</code> などを設定します。
</p>

<p>
FIXME: 不親切。 localeと gettextの仕組みを簡単に説明して、シ
ステムごとに LANG の設定例を紹介できないか?
</p>

<h2><a name="before-make-install">make install 前の確認</a></h2>
<p>
もし make install する前に mknmz を試して見たいという時には
cd scripts してから ./mknmz とすると、
(<code>/usr/local/share/namazu</code> でなく)
すぐ隣にある ../pl/*.pl を参
照します。
</p>

<p class=note>
(この辺の事情は mknmz の中の load_module() の中の @INC の文字の辺
で分るはずです)。</p>

<p>
例えば
<code class=command>./mknmz -C  ./mknmz --help ./mknmz -O /tmp ~/Mail</code>
などを試せます。ただし、 make install 前は日本語でのメッセー
ジ出力は行えません。
</p>


<h2><a name="help">help の表示</a></h2>
<p>
以上 mknmz と namazu の二つの使い方は引数無しで起動するとと
ても簡単な説明が、--help と入力すると長い説明が表示されます。
また -C を付けるとその時の構成を表示します。この三つ
</p>

<table cellspacing=0 cellpadding=3 border=1>
  <caption>コマンド行で説明などを得る方法</caption>
  <tr><th>引数</th><th>意味</th><th>その他に引数を付けると</th></tr>

  <tr><td>無</td> <td>とても簡単な説明<td>(他の引数・選択は付けられない)
    </td></tr>
  <tr><td><code>--help</code></td><td>詳しい説明 <td>(他の引数・選択は無視される)</td></tr>
  <tr><td><code>-C </code>   </td><td>その時の構成<td> (他の引数・選択も意味がある)</td></tr>
  </table>

<p>
は覚えておくと便利です。 
上にも書きましたが、全ての機能については別の
<a href="manual.html">説明書</a> がありますので、そちらを
参照して下さい。
</p>

<h2><a name="run-mknmz">動作確認 mknmz</a></h2>
<p>
さて、組立たばかりのものを使って、まずは索引を作ります。

<strong>
(もし make install の前に試したいなら、上の
<a href="#before-make-install">
mknmz make install 前の確認</a>を見て下さい。)</strong>
<br>
1.4.0.8 からは少し書式が変っていて
URI の置換は 
--replaceオプションを使って指定するようになりました。

URIの置換は namazu/namazu.cgi の実行時にも行えます。mknmz で
は --replace を指定しないで実行し、<a
href="manual.html#namazurc">.namazurc</a> の設定で
namazu/namazu.cgi の実行時に置換する方法をお勧めします。
</p>

<p>
mknmz は次のように実行します。
</p>

<blockquote>
<p>
<code class=command><a href="manual.html#mknmz">mknmz</a> [options] 対象ディレクトリ</code>
</p>
</blockquote>

<p>
この例では、インデックスはカレントディレクトリに作られます。
もし出力先を変更したい時には -O を使います。
</p>

<p>
例えば
</p>
<pre>
      mkdir /tmp/index
      mknmz -O /tmp/index \
      --replace='s#/foo/bar/doc/#http://foo.bar.jp/software/#' \
      /foo/bar/doc
</pre>

<p>
のよう実行します。インデックスの作成中に mknmz は次のような
メッセージを出力します。もし、メッセージが英語で表示されたと
きは<a href="#japanese">日本語環境での利用</a>を参照してくだ
さい。
</p>

<pre>

      6個のファイルがインデックス作成の対象として見つかりました
      1/6 - /foo/bar/acrobat4.pdf [application/pdf]
      2/6 - /foo/bar/html.html [text/html]
      3/6 - /foo/bar/msg00000.html [text/html; x-type=mhonarc]
      4/6 - /foo/bar/plain.txt [text/plain]
      5/6 - /foo/bar/rfc0000.txt [text/plain; x-type=rfc]
      6/6 - /foo/bar/tex.tex [application/x-tex]
      インデックスを書き出しています...
      [基本]
      日付:                Fri Feb 18 14:09:55 2000
      追加された文書の数:  6
      サイズ (bytes):      7,301
      合計の文書数:        6
      追加キーワード数:    48
      合計キーワード数:    48
      わかち書き:          module_kakasi -ieuc -oeuc -w
      経過時間 (秒):       8
      ファイル/秒:         0.75
      システム:            linux
      Perl:                5.00503
      Namazu:              2.0

</pre>

<ul>
  <li>結果 (の索引) は (-O で指定した) /tmp/index に
  <li>検索対象は<code>/foo/bar/doc</code>
  <li>URI については

<p>
「<code>/foo/bar/doc/</code> に置いてあるものは
外から見ると、
<code>http://foo.bar.jp/software/</code> の下に見えるもの
なので、(Perl 語で言うと) 
s#<em>aaa</em>#<strong>bbb</strong>#
のように置換してね」という意味になります。
(上の例では aaa (/foo/bar/doc/)
            bbb (http://foo.bar.jp/) となります。)
</p>

  <li> (/usr/local/etc/namazu/mknmzrc の $HTML_SUFFIX の設定によって)
     *.html *.html.ja *.phtml *.html *.asp *.cgi などだけを調べ、メー
      ルのようなものはこの指定では調べません。
  <li>手軽にメイルなどを調べるなら -a を付けておきます。
</ul>



<hr>
<p>
<em>この色の情報はまだ以前の情報のままですので
あまり、意味がありません。</em>
</p>

<h2><a name="customize-mknmz">mknmz の調整</a></h2>
<!--
メイル
HTML
その他の形式 (Re: filter)
他の Web
-->

<p>
Namazu は元々は HTML 形式のものを処理するように考えられてい
ますが、実際には様々な形式を取扱うことができます。
/usr/local/share/namazu/filter というディレクトリに手がかり
が、また説明書の中の <a href="manual.html#doc-filter">文書フィ
ルタ</a> の部分に詳しい説明があります。
</p>

<dl>
<dt>MH 形式のメイル
  <dd>mknmz に -a オプションをつけて実行します。<br>
<code class=command>% mknmz -a ~/Mail/foobar</code>

<dt>MHonArc
  <dd>初めから HTML 形式ですが、更に Namazu
にこの形式に対応した処理が含まれています。

<dt>hnf
  <dd> hnf 用の .mknmzrc と起動手続が
<a href="http://www.h14m.org/">ハイパー日記 Project</a> から入手出
来ます。
<dt>  他の Web
  <dd>これは Namazu 単独ではできません。他にその内容を転送してくる
しくみ (httpdown, wget など)と組合せて使います。
</dl>

<p>
mknmz のコマンド行引数は、<a
href="manual.html#mknmz-option">mknmz --help</a>とすると得ら
れます。また-C を付けると、その時の構成を次のように表示してくれます。
</p>

<pre>

    読み込んだ設定ファイル: /home/satoru/.mknmzrc
    システム: linux
    Namazu: 1.9.15
    Perl: 5.00503
    NKF: module_nkf
    KAKASI: module_kakasi -ieuc -oeuc -w
    ChaSen: module_chasen -j -F '%m '
    わかち書き: module_kakasi -ieuc -oeuc -w
    言語: ja_JP.ujis
    文字コード: euc
    CONFDIR: /usr/local/etc/namazu
    LIBDIR: /usr/local/share/namazu/pl
    FILTERDIR: /usr/local/share/namazu/filter
    TEMPLATEDIR: ../template
    対応メディアタイプ: 
      application/msword
      application/pdf
      application/x-bzip2
      application/x-compress
      application/x-gzip
      application/x-tex
      message/news
      message/rfc822
      text/hnf
      text/html
      text/html; x-type=mhonarc
      text/plain
      text/plain; x-type=rfc
      text/x-roff
</pre>


<h3>検索対象について</h3>

<table cellspacing=0 cellpadding=3>
<tr><th>短縮形</th><th>本名</th><th>説明</th>
<tr><td>-a</td><td>--all</td>        <td>を付けると全て調べる</td></tr>
<tr><td>-e</td><td>--robots-txt</td> <td>ロボットよけされているファイルを除外する</td>
<tr><td>-A</td><td>--htaccess</td>   <td>.htaccess で制限されたファイルを除外する</td>
<tr><td>-F</td><td>--target-list=file</td><td>インデックス対象のファイルのリストを読み込む</td>
<tr><td>-t</td><td>--media-type=mtype</td><td>対象ファイルの文書形式を指定する
<tr><td></td><td>--allow=regex  </td><td>対象ファイル名の正規表現を指定する
<tr><td></td><td>--deny=regex   </td><td>除外するファイル名の正規表現を指定する
<tr><td></td><td>--exclude=regex</td><td>除外するパス名の正規表現を指定する

</table>


<p>
現在の版では<em>対象ディレクトリ</em>に symbolic link がある
とうまくいかないので、 symbolic link の先をそのまま指定する、
つまり(cd <em>対象ディレクトリ</em>; pwd) として表示されるも
のを使うのが無難です。</p>

<h2><a name="run-namazu">動作確認 namazu</a></h2>
<p>
さまざまな設定は<code> <a
href="manual.html#namazurc">namazurc</a></code> 
に書くことができます。namazurc の設定例は 配布の中の 
<code>/usr/local/etc/namazu/namazurc-dist</code> にあります。
</p>

<p>初めはコマンド行で 
</p>
<pre>
      % /usr/local/namazu/bin 検索文字列 インデックス
</pre>

<p>
を試すのが手軽です。
</p>

<p>
インデックスを省略すると、namazu は
<code>/usr/local/var/namazu/index</code> を探しにいきます。
</p>

<p>
詳しい説明は <a href="manual.html">manual</a> があります。
</p>

<p>
Web で cgi を実行できるようにするには、いくつかの条件があるかも知
れない。<a href="http://www.apache.org/">apache</a> の場合
<a href="http://www.apache.org/docs/">設定</a>として
</p>

<table cellspacing=0 cellpadding=3>
<tr><td>
ScriptAlias</td><td> /cgi-bin/ /usr/local/apache/cgi-bin/
</td><td>/cgi-bin/ と来た時に、どこを見に行くか</td>
</tr>

<tr><td>
AddHandler</td><td> cgi-script .cgi
</td><td> .cgi と付いていれば cgi として実行する</td>
</tr>

<tr><td>
<a href="http://www.apache.org/docs/mod/core.html#allowoverride">
AllowOverride</a></td><td> All
</td>
<td>.htaccess での設定を有効にする(= 許可する)(管理者)</td>
<tr><td>
Options 
</td>
<td>ExecCGI
<td>cgi-bin の実行を許す
</tr>

<tr><td>
DirectoryIndex</td><td> index.html
</td><td> URI がディレクトリを指している時に探すファイル名
</td></tr>

</table>

<p>
などが関係して来ます。(管理者)と書いてあるもの以外は .htaccess にも
書ける(ただし apache の設置時にそれを禁止することもできるので不可の場合もある)
</p>

<!--
<h3>型紙(template)のこと</h3>
<p>
/usr/local/share/namazu/template
</p>
-->

<h2><a name="can-do">Namazu でできること</a></h2>

<p>
<strong>
ここに書いてあることは「保証」ではありません。
</strong>
開発者の希望が書いてあるだけです。
</p>

<ul>
<li>一つの計算機の、一つまたは複数のディレクトリの下にある文
書ファイルを指定して、
<li>それらの中の単語を調べ、どの文書ファイルにどの単語が含まれているか
をインデックスに書き出しておく
<li>使用者が入力した文字列と、上記の単語を比べて、
その単語が含まれている文書ファイルを表示すること
<li>上記単語の指定は、単語の一部分でなく単語全体です。
ですから sys と指定しても system は見つかりません。
そのような時には sys* や *sys* のように前後に *
を付けることによって、sys で始まる単語 (sys*)、
sys を含む単語 (*sys*)、
sys で終了する単語 (*sys) と入力します。
<li>以上の操作を設定で英語または日本語の表示とすること
<li>作られた索引の利用はコマンド行、または 
cgi-bin が動く HTTP server を Webブラウザを通じて利用する形
で行なう。
</ul>

<h2><a name="can-not-do">できないこと</a></h2>
<ul>
<li>他の計算機にまで文書ファイルを取りにいって検索すること
<li>「一日に 100 万回の利用件数がある」というような大規模な構成
の使い方。
</ul>

<h2><a name="others">その他</a></h2>
<dl>
<dt>対象ファイルについて
<dd>
指定した「対象ディレクトリ」の中で、何が検索の対象になるかと
いう疑問があるとしたら、答えは、<strong>(mknmzrc の)</strong> $ALLOW_FILE, $DENY_FILE の設定。それ
と -a 選択で決まる。

<dt>mew-1.94b2x と mew-nmz.el
<dd>
mew には namazu と連動して
<ul>
<li>
mknmz を起動して必要な検索索引を作り
<li>
検索した結果を使って virtual folder を作成する
</ul>
機能が contrib/mew-nmz.el にあり、説明は
contrib/00readme-namazu.jis に書かれています。
</dl>

<h2><a name="terminology">用語</a></h2>
<dl>
<dt><a href="http://kakasi.namazu.org/">KAKASI</a>
<dd>本来は「漢字で書かれたもの」を「ひらがな・カタカナ・ro-maji 」
などに変換する系。しかしここでは次々項の「わかち書き」をする道具とし
て使う。

<dt>
<a href="http://cactus.aist-nara.ac.jp/lab/nlt/chasen.html">Chasen (茶筌)</a>
<dd>「日本語形態素解析器」であるが、KAKASIと同様に「わかち書き」
(正確には日本語の単語の切出し)に使っている。

<dt>わかち書き
<dd>
日本語 は (英語 と 違って)単語 の 区切り に 空白 を 書いたり は しない。
そのまま では 計算機 の 処理 に 不都合 が ある ので、単語毎 に 分けて、
間 に 空白 を 入れて 書いた もの を 利用する。
そういう書き方を「わかち書き」と言う。
(用語としては計算機用語として以外にも同じ意味で使われる)
<dt>インデックス(名詞)
<dd>検索索引<br>
Namazu は<pre>
         (準備)     (検索画面)
          mknmz       namazu
         ↑   ↓     ↑    ↓
元々の資料    検索索引     検索結果
           (インデックス)
</pre>のようにして予め検索索引を作っておき、検索画面での
入力があった時には、それを見て結果を表示するという動作を
する。この「予め作られた「検索索引」のことをインデックス
と呼んでいる。<br>Namazu の場合 NMZ.* のような名前のものが
それにあたる。

<dt>インデックス(動詞)
<dd>上記検索索引を作ること。mknmz を使う
<dt>複数インデックス
<dd>二つ以上の検索索引を作っておいて、それらの中をまとめて
検索する機能

<a href="http://www.namazu.org/manual.html.ja#MULTIPLE_INDICES">説明書の中に実現方法</a>が書いてある。

<dt>フレイズ検索
<dd>
Namazu の検索の基本は単語の組合せである。
"単語 and 組合せ" と(順を逆にした)
"組合せ and 単語" は区別しない。これを"単語 組合せ"という
文字列がそのままの順で出現するものを探す機能のこと。
<dt>namazu.conf, conf.pl
<dd>
1.4 以前では、 namazu, mknmz の設定はそれぞれ namazu.conf,
conf.pl で行ったが 2.0 では namazurc, mknmzrc に変更された。
<dt>mknmzrc (/usr/local/etc/namazu/mknmzrc)
<dd>mknmz の基本設定を行なう。

<dt>namazurc  (/usr/local/etc/namazu/namazurc)
<dd>
Namazu の動作を make 時から変更したいというような時に、その
設定が書ける。
<code>Index, Replace, Base, Logging, Lang, Template</code>
の設定ができる。
詳しくは<a href="manual.html#namazurc">説明書</a>そ参照のこ
と。

<dt>Perl モジュール (Perl module)
<dd>NKF, KAKASI, ChaSen などは以前は  Namazu から外部 process として呼出さ
れていた。この場合、プロセスをファイル毎に起動するので
時間がかかる。
現在の版では、これらの perl モジュールを使うしくみが用意されて、
perl からモジュールとして呼出されるようにできる。
そうするとプロセスを起動しないで済む分、実行速度が有利になる。

<br>この機能は Namazu-1.3 以前では提供されていない。 
1.4 以降の機能である。
Namazu に必要な Perl のモジュールが入っているかどうかは
<pre>
perl -MText::Kakasi -e ''
perl -MText::ChaSen -e ''
perl -MNKF -e ''
</pre>
のように入力した時に、何も表示されなければいい。
そうしておいて namazu で ./configure すると、これらが使われるよう
に設置される。
</dl>

<h2><a name="reference">参照</a></h2>

<dl>
<dt>KAKASI 2.3.1
  <dd>漢字かなまじり文をひらがな文やローマ字文に変換することを目
  的として作成したプログラムと辞書<br>
  原作:高橋裕信さん、保守:KAKASI Project<br>
  Namazu ではこれを転じてわかち書き処理に使っている。<br>
  <a href="http://kakasi.namazu.org/">http://kakasi.namazu.org/</a>
  <br>
  <em>
(これが日本語で表示されない場合、
<a href="http://www.apache.org/docs/content-negotiation.html">
content negotiation </a>
が適切に行なわれていない場合があります。
Webブラウザの言語の設定に日本語(ja) を追加してください
       </em> )

<dt>開発・配布元の情報
  <dd>
  <a href="http://www.namazu.org/">http://www.namazu.org/</a>
<dt>良くある質問と答 (FAQ)日本語
  <dd>
  <a href="http://www.namazu.org/FAQ.html">http://www.namazu.org/FAQ.html</a>
<dt>Namazu メイリングリスト
  <dd>
  <a href="http://www.namazu.org/ml.html">http://www.namazu.org/ml.html</a>
<dt>やまだあきらさんの namazu.el (Emacs/Mule client)
  <dd>
  <a href="http://arika.org/linux/tools/namazu-el/">http://arika.org/linux/tools/namazu-el/</a>
<dt>Namazu Beta version
  <dd>ここの説明で使っている 1.9.14 はここにある<br>
  <a href="http://www.namazu.org/unstable/">http://www.namazu.org/unstable/</a>
</dl>


<hr>
<p>
<a href="http://www.namazu.org/">Namazu Homepage</a>
</p>
<div class="copyright">
Copyright (C) 2000 Namazu Project. All rights reserved.
</div>
<div class="id">
$Id: tutorial.html,v 1.24 2000-02-19 09:16:50 satoru Exp $
</div>
<address>
developers@namazu.org
</address>
</body>
</html>
