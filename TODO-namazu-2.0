$Id: TODO-namazu-2.0,v 1.32 2000-01-10 12:37:23 satoru Exp $

検討項目

  * [namazu-dev 948] が未決…。これが決まらないとライブラリ
    の仕様が固まらない。

  * namazu の方の read_config は mknmz のように複数を読むようになっていない
    - むしろ複数読み込む mknmz の方が変? (要検討) [namazu-dev 1035]

  * 常に namazurc で設定した Index ディレクトリの NMZ.{head,foot,..}.*  
    を参照するという設定項目を namazu.conf/.namazurc に追加する
    - Template ディレクティヴ?

  * NMZ.slog はライブラリが出力するものなのか? (要検討)


即急に取り組むべき課題

  * --with-admin=EMAIL を廃止し、 mknmzrc で設定可能にする

  * mknmz の gettext化 (野首さん担当)

  * まともな libraryとして整備する

  * test suite を作る - make test


難しいができればやりたい課題

  * インデックス作成の効率化 [namazu-dev 1088]

  * zlib でインデックスを圧縮 [namazu-dev 1048]

  * mknmz -n を実装
    - make -n と同じ意味

  * <a name="..."> や <xxx id="..."> に対応

  * queryの「かっこ」の前後にスペースをいれなくても OK にする [namazu 1229]


しばらく先の課題

  * 国際化にまじめに取り組む

  * UTF-8化 (Perl 5.6 が公開されたら)

  * コード変換に iconv(3) を用いる

  * 画像・音声ファイルのコメント情報を元にインデックスを作る

  * URI指定に対応  [namazu-dev 914]

  * 日付をキーにしたless than, greater thanの指定検索。(たかく氏 [616])
	( 1999年1月以降の記事 OR 1998年1月以前の記事 AND "TERM" )
	といった検索をしたい。

  * 英語の語形変化を検索時にうまく扱う
    e.g. study/studies, eat/ate/eaten

  * データ構造を見直す
    - query, indices, NmzResult などを統合する
    - Namazu *foo = nmz_new_namazu() みたいにして複数のインス
      タンスを生成したい

  * 文字列長などの制限を撤廃する
    - すべて動的にメモリを確保する

  * find でシンボリックをきちんと扱う (難しい)

  * Glib を採用するとどうだろう?

  * boehm GC <http://reality.sgi.com/boehm/gc.html> を導入す
    るとどうだろう?


常にこころがけること

  * 雑なルーチンをきれいに書き直す - 特に FIXME つきの関数

  * エラー処理をきちんとしよう

  * 頑丈かつ単純な美しく保守のしやすいコードを目指そう :-)

藤原のつけ足し (2000/01/10)
 ** mknmz
  * show index directory when -C requested
    -C で index: を表示する

  * using Find.pm instead of find.pl
    (prune for EXCLUDE directory)
    find.pl の代りに Find.pm を使うようにする。
    いまは \@flist を wanted に渡しているが Find.pm だと
    出来ないので、少しだけ面倒

 ** mknmz/namazu 
  * .mknmzrc / .namazurc clean up (multiple or single file)
    設定を複数で出来るのか、一つだけで設定するのかをはっきりさせる

 ** Manual
  * manual (document)
    (provide NMZ.* as well = mknmz "document" in package ) ?
  
    package may contain the result of mknmz "document",
    this feature is only allowed with this type of application
   (nothing required other than this package).
  
    Or may include mknmz-doc target in Makefile 
  
    This does not fit the existing manual.html version, for
    it is the large one file, thus either
    (1) support <A NAME="XXYY"> tag 
    or
    (2) fragment manual file
  
 ** Make
  * BSD make (distclean,clean,dist) -- automake related
    make clean, make dist に -i を付けなくてもいいようにする
    (ただし、namazu の問題でなく automake の問題のはず)

  * test suite for releasing
    出荷時の動作確認用のしくみ
  
  * test in place feature 
    test before make install with looking the library just
    made (not looking the old installed  version)
    make install する前に「動くかな」と確認出来るようにする
    現状は /usr/local/share/namazu/* の下を見てしまうので完全
    ではない
